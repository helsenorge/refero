{
  "resourceType": "Questionnaire",
  "language": "nb-NO",
  "id": "c3d97c84-b148-486e-c893-e0a20f3da042",
  "name": "NHN_Testskjema_TextBox",
  "title": "Testskjema tekstboks",
  "version": "0.1",
  "status": "draft",
  "publisher": "NHN",
  "meta": {
    "profile": ["http://ehelse.no/fhir/StructureDefinition/sdf-Questionnaire"],
    "tag": [
      {
        "system": "urn:ietf:bcp:47",
        "code": "nb-NO",
        "display": "Bokmål"
      }
    ],
    "security": [
      {
        "code": "3",
        "display": "Helsehjelp (Full)",
        "system": "urn:oid:2.16.578.1.12.4.1.1.7618"
      }
    ]
  },
  "contact": [
    {
      "name": "http://www.nhn.no"
    }
  ],
  "subjectType": ["Patient"],
  "extension": [
    {
      "url": "http://helsenorge.no/fhir/StructureDefinition/sdf-sidebar",
      "valueCoding": {
        "system": "http://helsenorge.no/fhir/ValueSet/sdf-sidebar",
        "code": "1"
      }
    },
    {
      "url": "http://helsenorge.no/fhir/StructureDefinition/sdf-information-message",
      "valueCoding": {
        "system": "http://helsenorge.no/fhir/ValueSet/sdf-information-message",
        "code": "1"
      }
    },
    {
      "url": "http://helsenorge.no/fhir/StructureDefintion/sdf-itemControl-visibility",
      "valueCodeableConcept": {
        "coding": [
          {
            "system": "http://helsenorge.no/fhir/CodeSystem/AttachmentRenderOptions",
            "code": "hide-help",
            "display": "Hide help texts"
          },
          {
            "system": "http://helsenorge.no/fhir/CodeSystem/AttachmentRenderOptions",
            "code": "hide-sublabel",
            "display": "Hide sublabel texts"
          }
        ]
      }
    }
  ],
  "date": "2024-03-15T00:00:00+01:00",
  "contained": [
    {
      "url": "http://ehelse.no/fhir/ValueSet/Predefined",
      "resourceType": "ValueSet",
      "id": "1101",
      "version": "1.0",
      "name": "urn:oid:1101",
      "title": "Ja / Nei (structor)",
      "status": "draft",
      "publisher": "NHN",
      "compose": {
        "include": [
          {
            "system": "urn:oid:2.16.578.1.12.4.1.1101",
            "concept": [
              {
                "code": "1",
                "display": "Ja"
              },
              {
                "code": "2",
                "display": "Nei"
              }
            ]
          }
        ]
      }
    }
  ],
  "item": [
    {
      "linkId": "1a63cf3a-8db9-4f7f-eba5-47a045ce7909",
      "type": "group",
      "required": false,
      "text": "Enlinje",
      "item": [
        {
          "linkId": "0d2358f5-6c32-4c32-9b22-7de887d31a5e",
          "type": "string",
          "text": "Uten noe som helst",
          "required": false
        },
        {
          "linkId": "575cde40-0518-4837-9ca2-63c333066412",
          "type": "string",
          "text": "Uten noe som helst hjelpeikon",
          "required": false,
          "item": [
            {
              "linkId": "9e457120-6c79-4da6-917c-c7a25c776b7e",
              "type": "text",
              "required": false,
              "repeats": false,
              "readOnly": true,
              "maxLength": 250,
              "_text": {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/rendering-markdown",
                    "valueMarkdown": "HJELP!"
                  }
                ]
              },
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                        "code": "help"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "linkId": "db2d506a-2fa4-41a9-95a3-53579b7addb6",
          "type": "string",
          "text": "Uten noe som helst - Obligatorisk",
          "required": true
        },
        {
          "linkId": "f6a688c0-798c-4234-8aa4-a427b2a0476e",
          "type": "string",
          "text": "Uten noe som helst med instruksjon",
          "extension": [
            {
              "url": "http://helsenorge.no/fhir/StructureDefinition/sdf-sublabel",
              "valueMarkdown": "Instruksjon"
            }
          ],
          "required": false
        },
        {
          "linkId": "e4238d3e-3091-4c0e-84cf-e80f8dfc2546",
          "type": "string",
          "text": "Uten noe som helst med markdown",
          "required": false,
          "_text": {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/rendering-markdown",
                "valueMarkdown": "Uten noe som helst med **markdown**"
              }
            ]
          }
        },
        {
          "linkId": "cc398f4e-059b-409a-8b10-ae1bb79088b1",
          "type": "string",
          "text": "Preutfylt tekst",
          "required": false,
          "initial": [
            {
              "valueString": "Her er det skrevet noe"
            }
          ]
        },
        {
          "linkId": "19238582-bc7d-4b30-d452-24570e462f0c",
          "type": "string",
          "text": "Preutfylt tekst og read only",
          "required": false,
          "initial": [
            {
              "valueString": "Her er det skrevet noe - read only"
            }
          ],
          "readOnly": true
        },
        {
          "linkId": "eeca1198-3d4e-4c4b-c930-98f67f7f5349",
          "type": "string",
          "text": "Beriket felt",
          "required": false,
          "extension": [
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/sdf-fhirpath",
              "valueString": "Patient.name.where(use = 'official').select(given.join(' ') & ' ' & family)"
            }
          ]
        },
        {
          "linkId": "62ee3a0f-cad9-4aa0-c3cb-6e023308b992",
          "type": "string",
          "text": "Beriket felt read only",
          "required": false,
          "readOnly": true,
          "extension": [
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/sdf-fhirpath",
              "valueString": "Patient.name.where(use = 'official').select(given.join(' ') & ' ' & family)"
            }
          ]
        },
        {
          "linkId": "f7b133cf-36da-4b2f-8844-b48b19b203aa",
          "type": "string",
          "text": "Minimum tegn 10 stk egendefinert feilmelding:",
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/minLength",
              "valueInteger": 10
            },
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
              "valueString": "Valideringstekst"
            }
          ],
          "required": false
        },
        {
          "linkId": "43363a5e-31e1-408d-e495-38ecf3dd52bb",
          "type": "string",
          "text": "Maksimum tegn 10 stk egendefinert feilmelding:",
          "required": false,
          "maxLength": 10,
          "extension": [
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
              "valueString": "Valideringstekst"
            }
          ]
        },
        {
          "linkId": "86b517ed-099a-4b3b-ee14-b03e22c8d373",
          "type": "string",
          "text": "Maksimum og minimum tegn 10 - 20 stk egendefinert feilmelding:",
          "required": false,
          "maxLength": 20,
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/minLength",
              "valueInteger": 10
            },
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
              "valueString": "Valideringstekst"
            }
          ]
        },
        {
          "linkId": "ef432191-bc6e-4d41-d017-bd4af4b9212b",
          "type": "string",
          "text": "Regex epost egendefinert feilmelding:",
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/regex",
              "valueString": "^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$"
            },
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
              "valueString": "Ikke bra epost"
            }
          ],
          "required": false
        }
      ]
    },
    {
      "linkId": "3ad1c9ba-7ff8-4e5e-d2ed-113123efdd1d",
      "type": "group",
      "text": "Flerlinje",
      "required": false,
      "item": [
        {
          "linkId": "2d3457c8-f21e-43f3-976e-ce1730b00dfc",
          "type": "text",
          "text": "Uten noe som helst",
          "required": false
        },
        {
          "linkId": "4345b6a9-1e2b-4819-a98b-745532cd5b9e",
          "type": "text",
          "text": "Uten noe som helst med hjelpeikon",
          "required": false,
          "item": [
            {
              "linkId": "0edd91c8-438c-4737-8dc5-e040f453b302",
              "type": "text",
              "required": false,
              "repeats": false,
              "readOnly": true,
              "maxLength": 250,
              "_text": {
                "extension": [
                  {
                    "url": "http://hl7.org/fhir/StructureDefinition/rendering-markdown",
                    "valueMarkdown": "HJELP!"
                  }
                ]
              },
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
                  "valueCodeableConcept": {
                    "coding": [
                      {
                        "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                        "code": "help"
                      }
                    ]
                  }
                }
              ]
            }
          ]
        },
        {
          "linkId": "e78a9f24-0fbd-4114-afca-dd0b028ca86d",
          "type": "text",
          "text": "Uten noe som helst - obligatorisk",
          "required": true
        },
        {
          "linkId": "397d41df-7754-443f-846e-b06f51eeb21d",
          "type": "text",
          "text": "Uten noe som helst med instruksjon",
          "extension": [
            {
              "url": "http://helsenorge.no/fhir/StructureDefinition/sdf-sublabel",
              "valueMarkdown": "Instruksjon"
            }
          ],
          "required": false
        },
        {
          "linkId": "d66da9fe-2ea4-4393-8cff-8c97e32f4233",
          "type": "text",
          "text": "Uten noe som helst med markdown",
          "required": false,
          "_text": {
            "extension": [
              {
                "url": "http://hl7.org/fhir/StructureDefinition/rendering-markdown",
                "valueMarkdown": "Uten noe som helst med **markdown**"
              }
            ]
          }
        },
        {
          "linkId": "0ef88c00-ac2e-4501-8b2f-6942e2c7b87c",
          "type": "text",
          "text": "Preutfylt tekst",
          "required": false,
          "initial": [
            {
              "valueString": "Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe "
            }
          ]
        },
        {
          "linkId": "b0180e95-46fc-4a80-ca7a-e161247d60a6",
          "type": "text",
          "text": "Preutfylt tekst og read only",
          "required": false,
          "initial": [
            {
              "valueString": "Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe vread only"
            }
          ],
          "readOnly": true
        },
        {
          "linkId": "19225548-45b1-4409-fdff-bf1f581fc13d",
          "type": "text",
          "text": "Beriket felt",
          "required": false,
          "extension": [
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/sdf-fhirpath",
              "valueString": "Patient.name.where(use = 'official').select(given.join(' ') & ' ' & family)"
            }
          ]
        },
        {
          "linkId": "6beb9af8-e441-4ec2-9b34-7ca8167630bd",
          "type": "text",
          "text": "Beriket felt read only",
          "required": false,
          "readOnly": true,
          "extension": [
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/sdf-fhirpath",
              "valueString": "Patient.name.where(use = 'official').select(given.join(' ') & ' ' & family)"
            }
          ]
        },
        {
          "linkId": "7898f8d3-1c36-4dd4-c3f6-202c4bed12b5",
          "type": "text",
          "text": "Minimum tegn 100 stk egendefinert feilmelding:",
          "extension": [
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
              "valueString": "Valideringstekst"
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/minLength",
              "valueInteger": 100
            }
          ],
          "required": false
        },
        {
          "linkId": "16098beb-e332-4e5d-80bf-ea6a0819ace8",
          "type": "text",
          "text": "Maksimum tegn 100 stk egendefinert feilmelding:",
          "required": false,
          "maxLength": 100,
          "extension": [
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
              "valueString": "Valideringstekst"
            }
          ]
        },
        {
          "linkId": "e7ab974e-f167-4e30-8fed-896287656899",
          "type": "text",
          "text": "Regex kun norske bokstaver egendefinert feilmelding:",
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/regex",
              "valueString": "^[æøåÆØÅa-zA-Z ]*$"
            },
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
              "valueString": "Ikke bra tekst"
            }
          ],
          "required": false
        }
      ]
    },
    {
      "linkId": "611b9bf9-f899-4bb0-8e12-4b1783d8f632",
      "type": "group",
      "text": "Enable when",
      "required": false,
      "item": [
        {
          "linkId": "07550c24-5245-44ea-9c9c-9e7eab34d95c",
          "type": "choice",
          "text": "Vil du åpne?",
          "required": false,
          "answerValueSet": "#1101",
          "item": [
            {
              "linkId": "231a8bbf-99ad-4b16-8fbd-5307e0fd3229",
              "type": "string",
              "text": "Maksimum og minimum tegn 10 - 20 stk egendefinert feilmelding:",
              "required": false,
              "maxLength": 20,
              "extension": [
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/minLength",
                  "valueInteger": 10
                },
                {
                  "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
                  "valueString": "Valideringstekst"
                }
              ],
              "enableWhen": [
                {
                  "question": "07550c24-5245-44ea-9c9c-9e7eab34d95c",
                  "operator": "=",
                  "answerCoding": {
                    "system": "urn:oid:2.16.578.1.12.4.1.1101",
                    "code": "1"
                  }
                }
              ]
            },
            {
              "linkId": "edab1aa3-0a6f-4803-c645-28bbb3fab003",
              "type": "text",
              "text": "Maksimum og minimum tegn 100 - 200 stk egendefinert feilmelding:",
              "required": false,
              "maxLength": 200,
              "extension": [
                {
                  "url": "http://ehelse.no/fhir/StructureDefinition/validationtext",
                  "valueString": "Valideringstekst"
                },
                {
                  "url": "http://hl7.org/fhir/StructureDefinition/minLength",
                  "valueInteger": 100
                }
              ],
              "enableWhen": [
                {
                  "question": "07550c24-5245-44ea-9c9c-9e7eab34d95c",
                  "operator": "=",
                  "answerCoding": {
                    "system": "urn:oid:2.16.578.1.12.4.1.1101",
                    "code": "1"
                  }
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "linkId": "f635e07d-6adb-415c-8296-48a2226f4fa6",
      "type": "group",
      "text": "Kopiering av tekst",
      "required": false,
      "item": [
        {
          "linkId": "71511ce0-d0e6-4f64-9e31-e3c4e0062f28",
          "type": "string",
          "text": "Kopiert data fra: 1.6 Preutfylt tekst",
          "required": false,
          "initial": [
            {
              "valueString": "Her er det skrevet noe"
            }
          ],
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                    "code": "data-receiver"
                  }
                ]
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
              "valueString": "QuestionnaireResponse.descendants().where(linkId='cc398f4e-059b-409a-8b10-ae1bb79088b1').answer.value"
            }
          ],
          "readOnly": true,
          "enableWhen": [
            {
              "answerBoolean": true,
              "question": "cc398f4e-059b-409a-8b10-ae1bb79088b1",
              "operator": "exists"
            }
          ]
        },
        {
          "linkId": "f35616c5-e7e0-49e2-d7a0-53ac77a78a21",
          "type": "text",
          "text": "Kopiert data fra:  2.6 Preutfylt tekst",
          "required": false,
          "initial": [
            {
              "valueString": "Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe Her er det skrevet noe "
            }
          ],
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
              "valueCodeableConcept": {
                "coding": [
                  {
                    "system": "http://hl7.org/fhir/ValueSet/questionnaire-item-control",
                    "code": "data-receiver"
                  }
                ]
              }
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
              "valueString": "QuestionnaireResponse.descendants().where(linkId='0ef88c00-ac2e-4501-8b2f-6942e2c7b87c').answer.value"
            }
          ],
          "readOnly": true,
          "enableWhen": [
            {
              "answerBoolean": true,
              "question": "0ef88c00-ac2e-4501-8b2f-6942e2c7b87c",
              "operator": "exists"
            }
          ]
        }
      ]
    },
    {
      "linkId": "54f632fa-14d7-447d-e817-8cc7f566cd87",
      "type": "group",
      "text": "Gjentakelse",
      "required": false,
      "item": [
        {
          "linkId": "026ac3d5-3a55-4941-9705-5d267e02ac05",
          "type": "string",
          "text": "Uten noe som helst enlinje - maks 2 gjentakelser",
          "required": false,
          "repeats": true,
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-minOccurs",
              "valueInteger": 1
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-maxOccurs",
              "valueInteger": 2
            },
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/repeatstext",
              "valueString": "Legg til enlinje"
            }
          ]
        },
        {
          "linkId": "ac832739-b45a-4748-9d7a-9b853d10db53",
          "type": "string",
          "text": "Uten noe som helst flerlinje - maks 2 gjentakelser",
          "required": false,
          "repeats": true,
          "extension": [
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-minOccurs",
              "valueInteger": 1
            },
            {
              "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-maxOccurs",
              "valueInteger": 2
            },
            {
              "url": "http://ehelse.no/fhir/StructureDefinition/repeatstext",
              "valueString": "Legg til flerlinje"
            }
          ]
        }
      ]
    }
  ]
}
